#+TITLE: Personal Blog
#+AUTHOR: Ryan Cummings

#+HUGO_BASE_DIR: ./
#+HUGO_AUTO_SET_LASTMOD: t

* Pages
:PROPERTIES:
:EXPORT_HUGO_SECTION: pages
:EXPORT_HUGO_WEIGHT: auto
:END:
** About
:PROPERTIES:
:EXPORT_FILE_NAME: about
:END:
About me will live here.
** Projects
:PROPERTIES:
:EXPORT_FILE_NAME: projects
:END:
Projects will live here.
** Links
:PROPERTIES:
:EXPORT_FILE_NAME: links
:END:
Links will live here
* Posts
:PROPERTIES:
:EXPORT_HUGO_SECTION: posts
:END:
** Technical                                                        :@technical:
*** DONE my-hugo-screenshot: a simple custom Emacs function    :emacs:meta:
CLOSED: [2020-02-21 Fri 09:40]
:PROPERTIES:
:EXPORT_FILE_NAME: hugo-screenshot-function
:END:
**** Introduction
This blog is written with an endlessly customizable text editor called [[https://www.gnu.org/software/emacs/][Emacs]]. It is deployed using an Emacs customization called [[https://github.com/kaushalmodi/ox-hugo][Ox-Hugo]], which exports so-called [[https://orgmode.org/][org-mode]] files into markdown format for the Hugo static website generator. The static site is pushed to Github for version control and automatically deployed to my domain with a free service offered by Netlify.

There are a lot of different ways to write a blog. Platforms like [[https://www.wordpress.com][WordPress]] and [[https://www.blogger.com/][Blogger]] have been around for ages, and I've used quite a few of them. These platforms are excellent, there's no doubt about that. So why go through the trouble of rolling your own blog with Emacs?

In this post, I'll walk through a function I just wrote to instantly add screenshots to posts. That's one beautiful thing about Emacs -- you can literally program your text editor on-the-fly. I realized that adding screenshots was taking up too much time, so I spent 10 minutes writing a function that made it better. How awesome is that?

**** TLDR: The function
#+begin_src lisp
(defun my-hugo-screenshot (name)
  "Take a screenshot into a time stamped unique-named file with suffix NAME and paste link at point."
  (interactive "sEnter a screenshot name: ")
  (setq imagename (concat (format-time-string "%Y%m%d_%H%M%S")
                          "_" name ".png"))
  (setq filename (concat "~/org/blog/static/img/screenshots/"
                         imagename))
  (setq filelink (concat "/img/screenshots/" imagename))
  (message "waiting 5 seconds while you open the right window")
  (sit-for 5)
  (shell-command (concat "import " filename))
  (insert (concat "[[" filelink "]]")))

(global-set-key "\C-cs" 'my-hugo-screenshot)
#+end_src
**** Commentary
I won't sugar-coat it. This is an ugly function. Lines are poorly wrapped, too many variables are used, and there is no error checking at all. But it works flawlessly, and it took 10 minutes to research and write. That's all. From start to finish, finding a shell command to take a screenshot on my Linux laptop and writing this little code to take the screenshot, copy it to the static images folder, and add a link in the blog post, took 10 minutes.

For the uninitiated, Emacs is written in a variant of the Lisp programming language ([[https://en.wikipedia.org/wiki/Lisp_(programming_language)][-> Wikipedia]]) called elisp. Lisp is a beautiful but rarely-used language characterized by all of those parentheses. The language is worth exploring if you have some free time. I believe that every programmer should learn 3 different languages, no matter what their goals are, and learning Lisp will absolutely teach you something about computer science. That said, I have barely scratched the surface, hence the horribly messy function.

On my Arch Linux machine, the command "import" calls an ImageMagick utility that lets you either define a boundary to screenshot, or click on a window to screenshot. The following code tells Emacs to run the command in the shell:
#+begin_src lisp
(shell-command (concat "import " filename))
#+end_src
The ~filename~ variable is generated pragmatically based on the user's input when the function is first called (using the ~interactive~ prompt), and the date and time. The link to the screenshot file needs to be relative to the blog file's directory, hence the extra code generating ~filelink~. And the ~global-set-key~ function at the end links the function with the unused key shortcut Ctrl-c s. The whole function lives in my Emacs init file, which loads every time Emacs opens. A detailed explanation of my /init/ is a job for another day.

And that's it! The screenshot is saved in the blog's static screenshots folder and a link is placed in the document. Look, I'll screenshot my writing environment right now:

[[/img/screenshots/20200221_093645_sample_screenshot.png]]

Let's see WordPress beat that.

Emacs is an incredible piece of software and it makes writing this blog a pleasure. I hope this little example is helpful to someone thinking about trying Emacs or writing basic functions and extensions for it. Learning Emacs can be a long road, but for so many reasons, I can't imagine my life without this software, and that is a unique thing.

** Academic                                                      :@academic:
*** DONE Step 2 CS Mneumonics                                     :step:cs:
CLOSED: [2020-02-20 Thu 17:25]
:PROPERTIES:
:EXPORT_FILE_NAME: step2cs-mneumonics
:END:
I took Step 2 CS back in October 2019, and (after a very stressful waiting period) found out that I passed with flying colors. The mneumonics below were the best I could find, and memorizing them a few nights before the exam saved me. I had one for peds cases too, but I lost it.
**** Social: TAIMODES:

- Tobacco
- Alcohol
- Illicit drugs
- Married
- Occupation
- Diet
- Exercise
- Sex
- ROS

**** PMH: PAM HITS FOSS

- Past medical
- Allergies
- Meications
- Hospitalizations
- Ill contacts
- Trauma
- Surgical
- Family
- OBGYN
- Sexual
- Social

**** Women's Health: LMP RTV PAP

- LMP
- Menarche
- Periods last?
- Regularity
- Tampons
- Vaginal discharge
- Cramps
- Spotting
- Pregnancy
- Abortions
- Pap smear

**** ROS Hitlist
- Nausea
- Vomiting
- Fever
- Chills
- SOB
- CP
- Changes in hearing/vision
- Changes in bowel/bladder
- Rash or skin changes
- Trauma
- Falls
- Loss of consciousness
- Swelling
- Vaginal discharge
- New numbness, tingling, weakness
- Confusion
- Recent illnesses
- Change in meds
- Pain anywhere else
** Personal                                                      :@personal:
*** DONE new blog who this?                                          :meta:
CLOSED: [2020-02-20 Thu 16:12]
:PROPERTIES:
:EXPORT_FILE_NAME: new-blog-who-this
:END:
**** History...
I had a blog a while ago. It died when I didn't update it and made life more complicated than I had to. The blog was written using a piece of software called Emacs, which is a decades-old text editor. A plugin called ox-hugo converted my Emacs files into markdown files that another piece of software called Hugo converted into a navigable blog. Images were a monster to handle, and I ended up writing some custom code to get them from my computer to the site. The whole thing was hosted on Github and linked to a domain that I bought.

It was a mess! It's no wonder that I gave up.

**** ...repeats itself
But now that I am a 4th year medical student, I figure that I'll fire it back up! I love writing and have so many things to write about, from AI and deep learning to medical education to philosophy, not to mention all of the miscelaneous programming projects I've been up to over the past few years. I am also much better at using Git, and feel more confident that this will be more of an active coding project for me (rather than an experiment where I copy-paste interesting code off the internet). This blog may not see any traffic at all (and that may be for the best), but I think it'll be worth having nonetheless.

At least it's fun to write with this setup. Here's my desk:
#+caption: My desk
[[/img/misc/desk.jpg]]
(Yay, images work!)

So welcome to my new blog! Take a look around and check out my social links on the left sidebar. Don't be afraid to email me (the @ link on the sidebar) -- I love getting letters. I hope you get something out of this site.
** Outdoors                                                      :@outdoors:
** Ideas
*** How to change the width of hyde-hyde posts
